{"version":3,"sources":["webparts/list/components/AcitivityItem.tsx"],"names":[],"mappings":"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","file":"webparts/list/components/AcitivityItem.js","sourcesContent":["import * as React from \"react\";\r\nimport {\r\n  css,\r\n  classNamesFunction,\r\n  Icon,\r\n  IStyle,\r\n  Link,\r\n} from \"office-ui-fabric-react\";\r\nimport { ActivityItem } from \"office-ui-fabric-react/lib-es2015/components/ActivityItem\";\r\nimport styles from \"./ActivityItem.module.scss\";\r\nimport SharepointService from \"../../../sharepoint/SharepointServiceManager\";\r\n\r\ntype IActivityItemExampleStyleProps = {};\r\ninterface IActivityItemExampleStyles {\r\n  exampleRoot?: IStyle;\r\n  nameText?: IStyle;\r\n}\r\n\r\nconst exampleStyles: IActivityItemExampleStyles = {\r\n  exampleRoot: {\r\n    marginTop: \"20px\",\r\n  },\r\n  nameText: {\r\n    fontWeight: \"bold\",\r\n  },\r\n};\r\n\r\nexport class ActivityItemBasicExample extends React.Component<\r\n  { comments: any; siteCollection: any, userID: any, deleteComment : any },\r\n  { comments: any; commentsLoading: boolean; userDetails: any }\r\n> {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      comments: [],\r\n      commentsLoading: true,\r\n      userDetails: [],\r\n    };\r\n  }\r\n  public comments = [];\r\n  public render(): JSX.Element {\r\n    // tslint:disable:jsx-no-lambda\r\n\r\n    const activityItemExamples = [\r\n      {\r\n        key: 1,\r\n\r\n        activityDescription: [\r\n          <Link\r\n            key={1}\r\n            className={styles.nameText}\r\n            onClick={() => {\r\n              alert(\"A name was clicked.\");\r\n            }}\r\n          >\r\n            Philippe Lampros\r\n          </Link>,\r\n          <span key={2}> a commenté</span>,\r\n        ],\r\n        activityIcon: <Icon iconName={\"Message\"} />,\r\n        comments: [\r\n          <span key={1}>Hello! I am making a comment and mentioning </span>,\r\n        ],\r\n        timeStamp: \"Just now\",\r\n      },\r\n    ];\r\n\r\n    const activityExampleList: Array<JSX.Element> = [];\r\n    this.state.comments.forEach((item: any) => {\r\n      const props = item;\r\n      activityExampleList.push(\r\n        <div style={{display:\"flex\", flexDirection:\"row\"}}>\r\n          <ActivityItem\r\n            {...props}\r\n            key={item.key}\r\n            className={styles.exampleRoot}\r\n          />\r\n           {(item.CreatorID == this.props.userID)?\r\n            <Icon onClick={\r\n             ()=> this.props.deleteComment(this.props.siteCollection, item.itemID)\r\n              \r\n            } iconName=\"Delete\" style={{marginLeft: \"2px\"}}></Icon> : \"\"\r\n              }\r\n         \r\n        </div>\r\n      )\r\n      console.log(this.props.userID)\r\n      if(item.CreatorID == this.props.userID){} ;\r\n      <Icon iconName=\"Delete\" style={{marginLeft: \"2px\"}}></Icon>\r\n      console.log(item.CreatorID)\r\n    });\r\n\r\n    return <div>{activityExampleList}</div>;\r\n  }\r\n  public componentDidMount(): void {\r\n    console.log(this.props.comments);\r\n    this.props.comments.map((item) =>\r\n      this.comments.push({\r\n        key: item.Created,\r\n        CreatorID: item.Author.ID,\r\n        itemID: item.Id,\r\n        activityDescription: [\r\n          <Link key={1} className={styles.nameText} onClick={() => {}}>\r\n            {item.Author.Title}\r\n          </Link>,\r\n          <span key={2}> a commenté</span>,\r\n         \r\n        ],\r\n        activityIcon: <Icon iconName={\"Message\"} />,\r\n        comments: [\r\n          <span key={1} dangerouslySetInnerHTML={{ __html: item.Body }}></span>,\r\n        ],\r\n        timeStamp: new Date(item.Created).toLocaleDateString(\"fr-fr\", {\r\n          weekday: \"long\",\r\n          year: \"numeric\",\r\n          month: \"short\",\r\n          day: \"numeric\",\r\n          hour: \"2-digit\",\r\n          minute: \"2-digit\",\r\n        }),\r\n\r\n      })\r\n    );\r\n    this.setState({ comments: this.comments }, () =>\r\n      console.log(this.state.comments)\r\n    );\r\n    console.log(this.props.comments);\r\n  }\r\n  public componentDidUpdate(previousProps: any, previousState) {\r\n    if (previousProps.comments !== this.props.comments) {\r\n    }\r\n  }\r\n  \r\n}\r\n"],"sourceRoot":"..\\..\\..\\..\\src"}